{
  "version": 3,
  "names": [
    "DragBar",
    "props",
    "prefixCls",
    "onChange",
    "$dom",
    "useRef",
    "dragRef",
    "handleMouseMove",
    "event",
    "current",
    "clientY",
    "changedTouches",
    "newHeight",
    "height",
    "dragY",
    "minHeight",
    "maxHeight",
    "handleMouseUp",
    "undefined",
    "document",
    "removeEventListener",
    "handleMouseDown",
    "preventDefault",
    "addEventListener",
    "passive",
    "useEffect",
    "svg",
    "useMemo"
  ],
  "sources": [
    "../../../src/components/DragBar/index.tsx"
  ],
  "sourcesContent": [
    "import React, { useEffect, useMemo, useRef } from 'react';\nimport { IProps } from '../../Editor';\nimport './index.less';\n\nexport interface IDragBarProps extends IProps {\n  height: number;\n  maxHeight: number;\n  minHeight: number;\n  onChange: (value: number) => void;\n}\n\nconst DragBar: React.FC<IDragBarProps> = (props) => {\n  const { prefixCls, onChange } = props || {};\n  const $dom = useRef<HTMLDivElement>(null);\n  const dragRef = useRef<{ height: number; dragY: number }>();\n  function handleMouseMove(event: Event) {\n    if (dragRef.current) {\n      const clientY =\n        (event as unknown as MouseEvent).clientY || (event as unknown as TouchEvent).changedTouches[0]?.clientY;\n      const newHeight = dragRef.current.height + clientY - dragRef.current.dragY;\n      if (newHeight >= props.minHeight && newHeight <= props.maxHeight) {\n        onChange && onChange(dragRef.current.height + (clientY - dragRef.current.dragY));\n      }\n    }\n  }\n  function handleMouseUp() {\n    dragRef.current = undefined;\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n    $dom.current?.removeEventListener('touchmove', handleMouseMove);\n    $dom.current?.removeEventListener('touchend', handleMouseUp);\n  }\n  function handleMouseDown(event: Event) {\n    event.preventDefault();\n    const clientY =\n      (event as unknown as MouseEvent).clientY || (event as unknown as TouchEvent).changedTouches[0]?.clientY;\n    dragRef.current = {\n      height: props.height,\n      dragY: clientY,\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    $dom.current?.addEventListener('touchmove', handleMouseMove, { passive: false });\n    $dom.current?.addEventListener('touchend', handleMouseUp, { passive: false });\n  }\n\n  useEffect(() => {\n    if (document) {\n      $dom.current?.addEventListener('touchstart', handleMouseDown, { passive: false });\n      $dom.current?.addEventListener('mousedown', handleMouseDown);\n    }\n    return () => {\n      if (document) {\n        $dom.current?.removeEventListener('touchstart', handleMouseDown);\n        document.removeEventListener('mousemove', handleMouseMove);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const svg = useMemo(\n    () => (\n      <svg viewBox=\"0 0 512 512\" height=\"100%\">\n        <path\n          fill=\"currentColor\"\n          d=\"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"\n        />\n      </svg>\n    ),\n    [],\n  );\n  return (\n    <div className={`${prefixCls}-bar`} ref={$dom}>\n      {svg}\n    </div>\n  );\n};\n\nexport default DragBar;\n"
  ],
  "mappings": "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"
}