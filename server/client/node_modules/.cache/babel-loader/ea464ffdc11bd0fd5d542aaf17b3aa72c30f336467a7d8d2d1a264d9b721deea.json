{"ast":null,"code":"module.exports = read;\nvar readline = require('readline');\nvar Mute = require('mute-stream');\nfunction read(opts, cb) {\n  if (opts.num) {\n    throw new Error('read() no longer accepts a char number limit');\n  }\n  if (typeof opts.default !== 'undefined' && typeof opts.default !== 'string' && typeof opts.default !== 'number') {\n    throw new Error('default value must be string or number');\n  }\n  var input = opts.input || process.stdin;\n  var output = opts.output || process.stdout;\n  var prompt = (opts.prompt || '').trim() + ' ';\n  var silent = opts.silent;\n  var editDef = false;\n  var timeout = opts.timeout;\n  var def = opts.default || '';\n  if (def) {\n    if (silent) {\n      prompt += '(<default hidden>) ';\n    } else if (opts.edit) {\n      editDef = true;\n    } else {\n      prompt += '(' + def + ') ';\n    }\n  }\n  var terminal = !!(opts.terminal || output.isTTY);\n  var m = new Mute({\n    replace: opts.replace,\n    prompt: prompt\n  });\n  m.pipe(output, {\n    end: false\n  });\n  output = m;\n  var rlOpts = {\n    input: input,\n    output: output,\n    terminal: terminal\n  };\n  if (process.version.match(/^v0\\.6/)) {\n    var rl = readline.createInterface(rlOpts.input, rlOpts.output);\n  } else {\n    var rl = readline.createInterface(rlOpts);\n  }\n  output.unmute();\n  rl.setPrompt(prompt);\n  rl.prompt();\n  if (silent) {\n    output.mute();\n  } else if (editDef) {\n    rl.line = def;\n    rl.cursor = def.length;\n    rl._refreshLine();\n  }\n  var called = false;\n  rl.on('line', onLine);\n  rl.on('error', onError);\n  rl.on('SIGINT', function () {\n    rl.close();\n    onError(new Error('canceled'));\n  });\n  var timer;\n  if (timeout) {\n    timer = setTimeout(function () {\n      onError(new Error('timed out'));\n    }, timeout);\n  }\n  function done() {\n    called = true;\n    rl.close();\n    if (process.version.match(/^v0\\.6/)) {\n      rl.input.removeAllListeners('data');\n      rl.input.removeAllListeners('keypress');\n      rl.input.pause();\n    }\n    clearTimeout(timer);\n    output.mute();\n    output.end();\n  }\n  function onError(er) {\n    if (called) return;\n    done();\n    return cb(er);\n  }\n  function onLine(line) {\n    if (called) return;\n    if (silent && terminal) {\n      output.unmute();\n      output.write('\\r\\n');\n    }\n    done();\n    // truncate the \\n at the end.\n    line = line.replace(/\\r?\\n$/, '');\n    var isDefault = !!(editDef && line === def);\n    if (def && !line) {\n      isDefault = true;\n      line = def;\n    }\n    cb(null, line, isDefault);\n  }\n}","map":{"version":3,"names":["module","exports","read","readline","require","Mute","opts","cb","num","Error","default","input","process","stdin","output","stdout","prompt","trim","silent","editDef","timeout","def","edit","terminal","isTTY","m","replace","pipe","end","rlOpts","version","match","rl","createInterface","unmute","setPrompt","mute","line","cursor","length","_refreshLine","called","on","onLine","onError","close","timer","setTimeout","done","removeAllListeners","pause","clearTimeout","er","write","isDefault"],"sources":["/home/kty/workspace/seb41_pre_001/client/node_modules/read/lib/read.js"],"sourcesContent":["\nmodule.exports = read\n\nvar readline = require('readline')\nvar Mute = require('mute-stream')\n\nfunction read (opts, cb) {\n  if (opts.num) {\n    throw new Error('read() no longer accepts a char number limit')\n  }\n\n  if (typeof opts.default !== 'undefined' &&\n      typeof opts.default !== 'string' &&\n      typeof opts.default !== 'number') {\n    throw new Error('default value must be string or number')\n  }\n\n  var input = opts.input || process.stdin\n  var output = opts.output || process.stdout\n  var prompt = (opts.prompt || '').trim() + ' '\n  var silent = opts.silent\n  var editDef = false\n  var timeout = opts.timeout\n\n  var def = opts.default || ''\n  if (def) {\n    if (silent) {\n      prompt += '(<default hidden>) '\n    } else if (opts.edit) {\n      editDef = true\n    } else {\n      prompt += '(' + def + ') '\n    }\n  }\n  var terminal = !!(opts.terminal || output.isTTY)\n\n  var m = new Mute({ replace: opts.replace, prompt: prompt })\n  m.pipe(output, {end: false})\n  output = m\n  var rlOpts = { input: input, output: output, terminal: terminal }\n\n  if (process.version.match(/^v0\\.6/)) {\n    var rl = readline.createInterface(rlOpts.input, rlOpts.output)\n  } else {\n    var rl = readline.createInterface(rlOpts)\n  }\n\n\n  output.unmute()\n  rl.setPrompt(prompt)\n  rl.prompt()\n  if (silent) {\n    output.mute()\n  } else if (editDef) {\n    rl.line = def\n    rl.cursor = def.length\n    rl._refreshLine()\n  }\n\n  var called = false\n  rl.on('line', onLine)\n  rl.on('error', onError)\n\n  rl.on('SIGINT', function () {\n    rl.close()\n    onError(new Error('canceled'))\n  })\n\n  var timer\n  if (timeout) {\n    timer = setTimeout(function () {\n      onError(new Error('timed out'))\n    }, timeout)\n  }\n\n  function done () {\n    called = true\n    rl.close()\n\n    if (process.version.match(/^v0\\.6/)) {\n      rl.input.removeAllListeners('data')\n      rl.input.removeAllListeners('keypress')\n      rl.input.pause()\n    }\n\n    clearTimeout(timer)\n    output.mute()\n    output.end()\n  }\n\n  function onError (er) {\n    if (called) return\n    done()\n    return cb(er)\n  }\n\n  function onLine (line) {\n    if (called) return\n    if (silent && terminal) {\n      output.unmute()\n      output.write('\\r\\n')\n    }\n    done()\n    // truncate the \\n at the end.\n    line = line.replace(/\\r?\\n$/, '')\n    var isDefault = !!(editDef && line === def)\n    if (def && !line) {\n      isDefault = true\n      line = def\n    }\n    cb(null, line, isDefault)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}