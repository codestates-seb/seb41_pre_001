{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport { forwardRef, useRef, useCallback, useImperativeHandle, Fragment, cloneElement } from 'react';\nimport { oneOfType, element, func } from 'prop-types';\nimport { ControlledMenu } from './ControlledMenu.js';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useMenuStateAndFocus } from '../hooks/useMenuStateAndFocus.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { isMenuOpen, safeCall, mergeProps, getName } from '../utils/utils.js';\nimport { useMenuChange } from '../hooks/useMenuChange.js';\nimport { rootMenuPropTypes, uncontrolledMenuPropTypes } from '../utils/propTypes.js';\nimport { FocusPositions, Keys } from '../utils/constants.js';\nvar _excluded = [\"aria-label\", \"captureFocus\", \"initialOpen\", \"menuButton\", \"instanceRef\", \"onMenuChange\"];\nvar Menu = /*#__PURE__*/forwardRef(function Menu(_ref, externalRef) {\n  var ariaLabel = _ref['aria-label'],\n    menuButton = _ref.menuButton,\n    instanceRef = _ref.instanceRef,\n    onMenuChange = _ref.onMenuChange,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useMenuStateAndFocus = useMenuStateAndFocus(restProps),\n    stateProps = _useMenuStateAndFocus[0],\n    toggleMenu = _useMenuStateAndFocus[1],\n    openMenu = _useMenuStateAndFocus[2];\n  var isOpen = isMenuOpen(stateProps.state);\n  var skipOpen = useRef(false);\n  var buttonRef = useRef(null);\n  var handleClose = useCallback(function (e) {\n    toggleMenu(false);\n    if (e.key) buttonRef.current.focus();\n  }, [toggleMenu]);\n  var onClick = function onClick(e) {\n    if (skipOpen.current) return;\n    openMenu(e.detail === 0 ? FocusPositions.FIRST : undefined);\n  };\n  var onKeyDown = function onKeyDown(e) {\n    switch (e.key) {\n      case Keys.UP:\n        openMenu(FocusPositions.LAST);\n        break;\n      case Keys.DOWN:\n        openMenu(FocusPositions.FIRST);\n        break;\n      default:\n        return;\n    }\n    e.preventDefault();\n  };\n  var button = safeCall(menuButton, {\n    open: isOpen\n  });\n  if (!button || !button.type) throw new Error('Menu requires a menuButton prop.');\n  var buttonProps = _extends({\n    ref: useCombinedRef(button.ref, buttonRef)\n  }, mergeProps({\n    onClick: onClick,\n    onKeyDown: onKeyDown\n  }, button.props));\n  if (getName(button.type) === 'MenuButton') {\n    buttonProps.isOpen = isOpen;\n  }\n  var renderButton = /*#__PURE__*/cloneElement(button, buttonProps);\n  useMenuChange(onMenuChange, isOpen);\n  useImperativeHandle(instanceRef, function () {\n    return {\n      openMenu: openMenu,\n      closeMenu: function closeMenu() {\n        return toggleMenu(false);\n      }\n    };\n  });\n  return /*#__PURE__*/jsxs(Fragment, {\n    children: [renderButton, /*#__PURE__*/jsx(ControlledMenu, _extends({}, restProps, stateProps, {\n      \"aria-label\": ariaLabel || (typeof button.props.children === 'string' ? button.props.children : 'Menu'),\n      anchorRef: buttonRef,\n      ref: externalRef,\n      onClose: handleClose,\n      skipOpen: skipOpen\n    }))]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Menu.propTypes = /*#__PURE__*/_extends({}, rootMenuPropTypes, uncontrolledMenuPropTypes, {\n  menuButton: oneOfType([element, func]).isRequired\n}) : void 0;\nexport { Menu };","map":{"version":3,"names":["objectWithoutPropertiesLoose","_objectWithoutPropertiesLoose","extends","_extends","forwardRef","useRef","useCallback","useImperativeHandle","Fragment","cloneElement","oneOfType","element","func","ControlledMenu","jsxs","jsx","useMenuStateAndFocus","useCombinedRef","isMenuOpen","safeCall","mergeProps","getName","useMenuChange","rootMenuPropTypes","uncontrolledMenuPropTypes","FocusPositions","Keys","_excluded","Menu","_ref","externalRef","ariaLabel","menuButton","instanceRef","onMenuChange","restProps","_useMenuStateAndFocus","stateProps","toggleMenu","openMenu","isOpen","state","skipOpen","buttonRef","handleClose","e","key","current","focus","onClick","detail","FIRST","undefined","onKeyDown","UP","LAST","DOWN","preventDefault","button","open","type","Error","buttonProps","ref","props","renderButton","closeMenu","children","anchorRef","onClose","process","env","NODE_ENV","propTypes","isRequired"],"sources":["/home/kty/workspace/seb41_pre_001/client/node_modules/@szhsin/react-menu/dist/es/components/Menu.js"],"sourcesContent":["import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport { forwardRef, useRef, useCallback, useImperativeHandle, Fragment, cloneElement } from 'react';\nimport { oneOfType, element, func } from 'prop-types';\nimport { ControlledMenu } from './ControlledMenu.js';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useMenuStateAndFocus } from '../hooks/useMenuStateAndFocus.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { isMenuOpen, safeCall, mergeProps, getName } from '../utils/utils.js';\nimport { useMenuChange } from '../hooks/useMenuChange.js';\nimport { rootMenuPropTypes, uncontrolledMenuPropTypes } from '../utils/propTypes.js';\nimport { FocusPositions, Keys } from '../utils/constants.js';\n\nvar _excluded = [\"aria-label\", \"captureFocus\", \"initialOpen\", \"menuButton\", \"instanceRef\", \"onMenuChange\"];\nvar Menu = /*#__PURE__*/forwardRef(function Menu(_ref, externalRef) {\n  var ariaLabel = _ref['aria-label'],\n    menuButton = _ref.menuButton,\n    instanceRef = _ref.instanceRef,\n    onMenuChange = _ref.onMenuChange,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var _useMenuStateAndFocus = useMenuStateAndFocus(restProps),\n    stateProps = _useMenuStateAndFocus[0],\n    toggleMenu = _useMenuStateAndFocus[1],\n    openMenu = _useMenuStateAndFocus[2];\n  var isOpen = isMenuOpen(stateProps.state);\n  var skipOpen = useRef(false);\n  var buttonRef = useRef(null);\n  var handleClose = useCallback(function (e) {\n    toggleMenu(false);\n    if (e.key) buttonRef.current.focus();\n  }, [toggleMenu]);\n  var onClick = function onClick(e) {\n    if (skipOpen.current) return;\n    openMenu(e.detail === 0 ? FocusPositions.FIRST : undefined);\n  };\n  var onKeyDown = function onKeyDown(e) {\n    switch (e.key) {\n      case Keys.UP:\n        openMenu(FocusPositions.LAST);\n        break;\n      case Keys.DOWN:\n        openMenu(FocusPositions.FIRST);\n        break;\n      default:\n        return;\n    }\n    e.preventDefault();\n  };\n  var button = safeCall(menuButton, {\n    open: isOpen\n  });\n  if (!button || !button.type) throw new Error('Menu requires a menuButton prop.');\n  var buttonProps = _extends({\n    ref: useCombinedRef(button.ref, buttonRef)\n  }, mergeProps({\n    onClick: onClick,\n    onKeyDown: onKeyDown\n  }, button.props));\n  if (getName(button.type) === 'MenuButton') {\n    buttonProps.isOpen = isOpen;\n  }\n  var renderButton = /*#__PURE__*/cloneElement(button, buttonProps);\n  useMenuChange(onMenuChange, isOpen);\n  useImperativeHandle(instanceRef, function () {\n    return {\n      openMenu: openMenu,\n      closeMenu: function closeMenu() {\n        return toggleMenu(false);\n      }\n    };\n  });\n  return /*#__PURE__*/jsxs(Fragment, {\n    children: [renderButton, /*#__PURE__*/jsx(ControlledMenu, _extends({}, restProps, stateProps, {\n      \"aria-label\": ariaLabel || (typeof button.props.children === 'string' ? button.props.children : 'Menu'),\n      anchorRef: buttonRef,\n      ref: externalRef,\n      onClose: handleClose,\n      skipOpen: skipOpen\n    }))]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Menu.propTypes = /*#__PURE__*/_extends({}, rootMenuPropTypes, uncontrolledMenuPropTypes, {\n  menuButton: oneOfType([element, func]).isRequired\n}) : void 0;\n\nexport { Menu };\n"],"mappings":"AAAA,SAASA,4BAA4B,IAAIC,6BAA6B,EAAEC,OAAO,IAAIC,QAAQ,QAAQ,0CAA0C;AAC7I,SAASC,UAAU,EAAEC,MAAM,EAAEC,WAAW,EAAEC,mBAAmB,EAAEC,QAAQ,EAAEC,YAAY,QAAQ,OAAO;AACpG,SAASC,SAAS,EAAEC,OAAO,EAAEC,IAAI,QAAQ,YAAY;AACrD,SAASC,cAAc,QAAQ,qBAAqB;AACpD,SAASC,IAAI,EAAEC,GAAG,QAAQ,mBAAmB;AAC7C,SAASC,oBAAoB,QAAQ,kCAAkC;AACvE,SAASC,cAAc,QAAQ,4BAA4B;AAC3D,SAASC,UAAU,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,OAAO,QAAQ,mBAAmB;AAC7E,SAASC,aAAa,QAAQ,2BAA2B;AACzD,SAASC,iBAAiB,EAAEC,yBAAyB,QAAQ,uBAAuB;AACpF,SAASC,cAAc,EAAEC,IAAI,QAAQ,uBAAuB;AAE5D,IAAIC,SAAS,GAAG,CAAC,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,EAAE,cAAc,CAAC;AAC1G,IAAIC,IAAI,GAAG,aAAaxB,UAAU,CAAC,SAASwB,IAAI,CAACC,IAAI,EAAEC,WAAW,EAAE;EAClE,IAAIC,SAAS,GAAGF,IAAI,CAAC,YAAY,CAAC;IAChCG,UAAU,GAAGH,IAAI,CAACG,UAAU;IAC5BC,WAAW,GAAGJ,IAAI,CAACI,WAAW;IAC9BC,YAAY,GAAGL,IAAI,CAACK,YAAY;IAChCC,SAAS,GAAGlC,6BAA6B,CAAC4B,IAAI,EAAEF,SAAS,CAAC;EAC5D,IAAIS,qBAAqB,GAAGpB,oBAAoB,CAACmB,SAAS,CAAC;IACzDE,UAAU,GAAGD,qBAAqB,CAAC,CAAC,CAAC;IACrCE,UAAU,GAAGF,qBAAqB,CAAC,CAAC,CAAC;IACrCG,QAAQ,GAAGH,qBAAqB,CAAC,CAAC,CAAC;EACrC,IAAII,MAAM,GAAGtB,UAAU,CAACmB,UAAU,CAACI,KAAK,CAAC;EACzC,IAAIC,QAAQ,GAAGrC,MAAM,CAAC,KAAK,CAAC;EAC5B,IAAIsC,SAAS,GAAGtC,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAIuC,WAAW,GAAGtC,WAAW,CAAC,UAAUuC,CAAC,EAAE;IACzCP,UAAU,CAAC,KAAK,CAAC;IACjB,IAAIO,CAAC,CAACC,GAAG,EAAEH,SAAS,CAACI,OAAO,CAACC,KAAK,EAAE;EACtC,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAChB,IAAIW,OAAO,GAAG,SAASA,OAAO,CAACJ,CAAC,EAAE;IAChC,IAAIH,QAAQ,CAACK,OAAO,EAAE;IACtBR,QAAQ,CAACM,CAAC,CAACK,MAAM,KAAK,CAAC,GAAGzB,cAAc,CAAC0B,KAAK,GAAGC,SAAS,CAAC;EAC7D,CAAC;EACD,IAAIC,SAAS,GAAG,SAASA,SAAS,CAACR,CAAC,EAAE;IACpC,QAAQA,CAAC,CAACC,GAAG;MACX,KAAKpB,IAAI,CAAC4B,EAAE;QACVf,QAAQ,CAACd,cAAc,CAAC8B,IAAI,CAAC;QAC7B;MACF,KAAK7B,IAAI,CAAC8B,IAAI;QACZjB,QAAQ,CAACd,cAAc,CAAC0B,KAAK,CAAC;QAC9B;MACF;QACE;IAAO;IAEXN,CAAC,CAACY,cAAc,EAAE;EACpB,CAAC;EACD,IAAIC,MAAM,GAAGvC,QAAQ,CAACa,UAAU,EAAE;IAChC2B,IAAI,EAAEnB;EACR,CAAC,CAAC;EACF,IAAI,CAACkB,MAAM,IAAI,CAACA,MAAM,CAACE,IAAI,EAAE,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;EAChF,IAAIC,WAAW,GAAG3D,QAAQ,CAAC;IACzB4D,GAAG,EAAE9C,cAAc,CAACyC,MAAM,CAACK,GAAG,EAAEpB,SAAS;EAC3C,CAAC,EAAEvB,UAAU,CAAC;IACZ6B,OAAO,EAAEA,OAAO;IAChBI,SAAS,EAAEA;EACb,CAAC,EAAEK,MAAM,CAACM,KAAK,CAAC,CAAC;EACjB,IAAI3C,OAAO,CAACqC,MAAM,CAACE,IAAI,CAAC,KAAK,YAAY,EAAE;IACzCE,WAAW,CAACtB,MAAM,GAAGA,MAAM;EAC7B;EACA,IAAIyB,YAAY,GAAG,aAAaxD,YAAY,CAACiD,MAAM,EAAEI,WAAW,CAAC;EACjExC,aAAa,CAACY,YAAY,EAAEM,MAAM,CAAC;EACnCjC,mBAAmB,CAAC0B,WAAW,EAAE,YAAY;IAC3C,OAAO;MACLM,QAAQ,EAAEA,QAAQ;MAClB2B,SAAS,EAAE,SAASA,SAAS,GAAG;QAC9B,OAAO5B,UAAU,CAAC,KAAK,CAAC;MAC1B;IACF,CAAC;EACH,CAAC,CAAC;EACF,OAAO,aAAaxB,IAAI,CAACN,QAAQ,EAAE;IACjC2D,QAAQ,EAAE,CAACF,YAAY,EAAE,aAAalD,GAAG,CAACF,cAAc,EAAEV,QAAQ,CAAC,CAAC,CAAC,EAAEgC,SAAS,EAAEE,UAAU,EAAE;MAC5F,YAAY,EAAEN,SAAS,KAAK,OAAO2B,MAAM,CAACM,KAAK,CAACG,QAAQ,KAAK,QAAQ,GAAGT,MAAM,CAACM,KAAK,CAACG,QAAQ,GAAG,MAAM,CAAC;MACvGC,SAAS,EAAEzB,SAAS;MACpBoB,GAAG,EAAEjC,WAAW;MAChBuC,OAAO,EAAEzB,WAAW;MACpBF,QAAQ,EAAEA;IACZ,CAAC,CAAC,CAAC;EACL,CAAC,CAAC;AACJ,CAAC,CAAC;AACF4B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAG5C,IAAI,CAAC6C,SAAS,GAAG,aAAatE,QAAQ,CAAC,CAAC,CAAC,EAAEoB,iBAAiB,EAAEC,yBAAyB,EAAE;EAC/HQ,UAAU,EAAEtB,SAAS,CAAC,CAACC,OAAO,EAAEC,IAAI,CAAC,CAAC,CAAC8D;AACzC,CAAC,CAAC,GAAG,KAAK,CAAC;AAEX,SAAS9C,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}