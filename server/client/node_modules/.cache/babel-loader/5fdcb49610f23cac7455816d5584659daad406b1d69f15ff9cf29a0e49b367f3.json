{"ast":null,"code":"import { useContext, useRef, useEffect } from 'react';\nimport { useItemEffect } from './useItemEffect.js';\nimport { ItemSettingsContext, MenuListItemContext, HoverActionTypes } from '../utils/constants.js';\nvar useItemState = function useItemState(itemRef, focusRef, isHovering, isDisabled) {\n  var _useContext = useContext(ItemSettingsContext),\n    submenuCloseDelay = _useContext.submenuCloseDelay;\n  var _useContext2 = useContext(MenuListItemContext),\n    isParentOpen = _useContext2.isParentOpen,\n    isSubmenuOpen = _useContext2.isSubmenuOpen,\n    dispatch = _useContext2.dispatch,\n    updateItems = _useContext2.updateItems;\n  var timeoutId = useRef(0);\n  var setHover = function setHover() {\n    !isHovering && !isDisabled && dispatch(HoverActionTypes.SET, itemRef.current);\n  };\n  var unsetHover = function unsetHover() {\n    !isDisabled && dispatch(HoverActionTypes.UNSET, itemRef.current);\n  };\n  var onBlur = function onBlur(e) {\n    if (isHovering && !e.currentTarget.contains(e.relatedTarget)) unsetHover();\n  };\n  var onPointerMove = function onPointerMove() {\n    if (isSubmenuOpen) {\n      if (!timeoutId.current) timeoutId.current = setTimeout(function () {\n        timeoutId.current = 0;\n        setHover();\n      }, submenuCloseDelay);\n    } else {\n      setHover();\n    }\n  };\n  var onPointerLeave = function onPointerLeave(_, keepHover) {\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n      timeoutId.current = 0;\n    }\n    !keepHover && unsetHover();\n  };\n  useItemEffect(isDisabled, itemRef, updateItems);\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeoutId.current);\n    };\n  }, []);\n  useEffect(function () {\n    if (isHovering && isParentOpen) {\n      focusRef.current && focusRef.current.focus();\n    }\n  }, [focusRef, isHovering, isParentOpen]);\n  return {\n    setHover: setHover,\n    onBlur: onBlur,\n    onPointerMove: onPointerMove,\n    onPointerLeave: onPointerLeave\n  };\n};\nexport { useItemState };","map":{"version":3,"names":["useContext","useRef","useEffect","useItemEffect","ItemSettingsContext","MenuListItemContext","HoverActionTypes","useItemState","itemRef","focusRef","isHovering","isDisabled","_useContext","submenuCloseDelay","_useContext2","isParentOpen","isSubmenuOpen","dispatch","updateItems","timeoutId","setHover","SET","current","unsetHover","UNSET","onBlur","e","currentTarget","contains","relatedTarget","onPointerMove","setTimeout","onPointerLeave","_","keepHover","clearTimeout","focus"],"sources":["/home/kty/workspace/seb41_pre_001/client/node_modules/@szhsin/react-menu/dist/es/hooks/useItemState.js"],"sourcesContent":["import { useContext, useRef, useEffect } from 'react';\nimport { useItemEffect } from './useItemEffect.js';\nimport { ItemSettingsContext, MenuListItemContext, HoverActionTypes } from '../utils/constants.js';\n\nvar useItemState = function useItemState(itemRef, focusRef, isHovering, isDisabled) {\n  var _useContext = useContext(ItemSettingsContext),\n    submenuCloseDelay = _useContext.submenuCloseDelay;\n  var _useContext2 = useContext(MenuListItemContext),\n    isParentOpen = _useContext2.isParentOpen,\n    isSubmenuOpen = _useContext2.isSubmenuOpen,\n    dispatch = _useContext2.dispatch,\n    updateItems = _useContext2.updateItems;\n  var timeoutId = useRef(0);\n  var setHover = function setHover() {\n    !isHovering && !isDisabled && dispatch(HoverActionTypes.SET, itemRef.current);\n  };\n  var unsetHover = function unsetHover() {\n    !isDisabled && dispatch(HoverActionTypes.UNSET, itemRef.current);\n  };\n  var onBlur = function onBlur(e) {\n    if (isHovering && !e.currentTarget.contains(e.relatedTarget)) unsetHover();\n  };\n  var onPointerMove = function onPointerMove() {\n    if (isSubmenuOpen) {\n      if (!timeoutId.current) timeoutId.current = setTimeout(function () {\n        timeoutId.current = 0;\n        setHover();\n      }, submenuCloseDelay);\n    } else {\n      setHover();\n    }\n  };\n  var onPointerLeave = function onPointerLeave(_, keepHover) {\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n      timeoutId.current = 0;\n    }\n    !keepHover && unsetHover();\n  };\n  useItemEffect(isDisabled, itemRef, updateItems);\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeoutId.current);\n    };\n  }, []);\n  useEffect(function () {\n    if (isHovering && isParentOpen) {\n      focusRef.current && focusRef.current.focus();\n    }\n  }, [focusRef, isHovering, isParentOpen]);\n  return {\n    setHover: setHover,\n    onBlur: onBlur,\n    onPointerMove: onPointerMove,\n    onPointerLeave: onPointerLeave\n  };\n};\n\nexport { useItemState };\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACrD,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,mBAAmB,EAAEC,mBAAmB,EAAEC,gBAAgB,QAAQ,uBAAuB;AAElG,IAAIC,YAAY,GAAG,SAASA,YAAY,CAACC,OAAO,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAE;EAClF,IAAIC,WAAW,GAAGZ,UAAU,CAACI,mBAAmB,CAAC;IAC/CS,iBAAiB,GAAGD,WAAW,CAACC,iBAAiB;EACnD,IAAIC,YAAY,GAAGd,UAAU,CAACK,mBAAmB,CAAC;IAChDU,YAAY,GAAGD,YAAY,CAACC,YAAY;IACxCC,aAAa,GAAGF,YAAY,CAACE,aAAa;IAC1CC,QAAQ,GAAGH,YAAY,CAACG,QAAQ;IAChCC,WAAW,GAAGJ,YAAY,CAACI,WAAW;EACxC,IAAIC,SAAS,GAAGlB,MAAM,CAAC,CAAC,CAAC;EACzB,IAAImB,QAAQ,GAAG,SAASA,QAAQ,GAAG;IACjC,CAACV,UAAU,IAAI,CAACC,UAAU,IAAIM,QAAQ,CAACX,gBAAgB,CAACe,GAAG,EAAEb,OAAO,CAACc,OAAO,CAAC;EAC/E,CAAC;EACD,IAAIC,UAAU,GAAG,SAASA,UAAU,GAAG;IACrC,CAACZ,UAAU,IAAIM,QAAQ,CAACX,gBAAgB,CAACkB,KAAK,EAAEhB,OAAO,CAACc,OAAO,CAAC;EAClE,CAAC;EACD,IAAIG,MAAM,GAAG,SAASA,MAAM,CAACC,CAAC,EAAE;IAC9B,IAAIhB,UAAU,IAAI,CAACgB,CAAC,CAACC,aAAa,CAACC,QAAQ,CAACF,CAAC,CAACG,aAAa,CAAC,EAAEN,UAAU,EAAE;EAC5E,CAAC;EACD,IAAIO,aAAa,GAAG,SAASA,aAAa,GAAG;IAC3C,IAAId,aAAa,EAAE;MACjB,IAAI,CAACG,SAAS,CAACG,OAAO,EAAEH,SAAS,CAACG,OAAO,GAAGS,UAAU,CAAC,YAAY;QACjEZ,SAAS,CAACG,OAAO,GAAG,CAAC;QACrBF,QAAQ,EAAE;MACZ,CAAC,EAAEP,iBAAiB,CAAC;IACvB,CAAC,MAAM;MACLO,QAAQ,EAAE;IACZ;EACF,CAAC;EACD,IAAIY,cAAc,GAAG,SAASA,cAAc,CAACC,CAAC,EAAEC,SAAS,EAAE;IACzD,IAAIf,SAAS,CAACG,OAAO,EAAE;MACrBa,YAAY,CAAChB,SAAS,CAACG,OAAO,CAAC;MAC/BH,SAAS,CAACG,OAAO,GAAG,CAAC;IACvB;IACA,CAACY,SAAS,IAAIX,UAAU,EAAE;EAC5B,CAAC;EACDpB,aAAa,CAACQ,UAAU,EAAEH,OAAO,EAAEU,WAAW,CAAC;EAC/ChB,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjB,OAAOiC,YAAY,CAAChB,SAAS,CAACG,OAAO,CAAC;IACxC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACNpB,SAAS,CAAC,YAAY;IACpB,IAAIQ,UAAU,IAAIK,YAAY,EAAE;MAC9BN,QAAQ,CAACa,OAAO,IAAIb,QAAQ,CAACa,OAAO,CAACc,KAAK,EAAE;IAC9C;EACF,CAAC,EAAE,CAAC3B,QAAQ,EAAEC,UAAU,EAAEK,YAAY,CAAC,CAAC;EACxC,OAAO;IACLK,QAAQ,EAAEA,QAAQ;IAClBK,MAAM,EAAEA,MAAM;IACdK,aAAa,EAAEA,aAAa;IAC5BE,cAAc,EAAEA;EAClB,CAAC;AACH,CAAC;AAED,SAASzB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}