{"ast":null,"code":"/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').RulePseudo} RulePseudo\n * @typedef {import('./types.js').RulePseudoNth} RulePseudoNth\n * @typedef {import('./types.js').RulePseudoSelector} RulePseudoSelector\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('./types.js').Selector} Selector\n * @typedef {import('./types.js').Selectors} Selectors\n * @typedef {import('./types.js').SelectState} SelectState\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').ElementChild} ElementChild\n */\n\nimport { extendedFilter } from 'bcp-47-match';\nimport { parse as commas } from 'comma-separated-tokens';\nimport { hasProperty } from 'hast-util-has-property';\nimport { isElement } from 'hast-util-is-element';\nimport { whitespace } from 'hast-util-whitespace';\nimport { zwitch } from 'zwitch';\nimport { any } from './any.js';\nvar handle = zwitch('name', {\n  // @ts-expect-error: hush.\n  unknown: unknownPseudo,\n  invalid: invalidPseudo,\n  handlers: {\n    // @ts-expect-error: hush.\n    any: matches,\n    // @ts-expect-error: hush.\n    'any-link': anyLink,\n    // @ts-expect-error: hush.\n    blank: blank,\n    // @ts-expect-error: hush.\n    checked: checked,\n    // @ts-expect-error: hush.\n    dir: dir,\n    // @ts-expect-error: hush.\n    disabled: disabled,\n    // @ts-expect-error: hush.\n    empty: empty,\n    // @ts-expect-error: hush.\n    enabled: enabled,\n    // @ts-expect-error: hush.\n    'first-child': firstChild,\n    // @ts-expect-error: hush.\n    'first-of-type': firstOfType,\n    // @ts-expect-error: hush.\n    has: has,\n    // @ts-expect-error: hush.\n    lang: lang,\n    // @ts-expect-error: hush.\n    'last-child': lastChild,\n    // @ts-expect-error: hush.\n    'last-of-type': lastOfType,\n    // @ts-expect-error: hush.\n    matches: matches,\n    // @ts-expect-error: hush.\n    not: not,\n    // @ts-expect-error: hush.\n    'nth-child': nthChild,\n    // @ts-expect-error: hush.\n    'nth-last-child': nthLastChild,\n    // @ts-expect-error: hush.\n    'nth-of-type': nthOfType,\n    // @ts-expect-error: hush.\n    'nth-last-of-type': nthLastOfType,\n    // @ts-expect-error: hush.\n    'only-child': onlyChild,\n    // @ts-expect-error: hush.\n    'only-of-type': onlyOfType,\n    // @ts-expect-error: hush.\n    optional: optional,\n    // @ts-expect-error: hush.\n    'read-only': readOnly,\n    // @ts-expect-error: hush.\n    'read-write': readWrite,\n    // @ts-expect-error: hush.\n    required: required,\n    // @ts-expect-error: hush.\n    root: root,\n    // @ts-expect-error: hush.\n    scope: scope\n  }\n});\npseudo.needsIndex = ['first-child', 'first-of-type', 'last-child', 'last-of-type', 'nth-child', 'nth-last-child', 'nth-of-type', 'nth-last-of-type', 'only-child', 'only-of-type'];\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nexport function pseudo(query, element, index, parent, state) {\n  var pseudos = query.pseudos;\n  var offset = -1;\n  while (++offset < pseudos.length) {\n    if (!handle(pseudos[offset], element, index, parent, state)) return false;\n  }\n  return true;\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction matches(query, element, _1, _2, state) {\n  var shallow = state.shallow;\n  var one = state.one;\n  state.shallow = true;\n  state.one = true;\n  var result = any(query.value, element, state)[0] === element;\n  state.shallow = shallow;\n  state.one = one;\n  return result;\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction not(query, element, index, parent, state) {\n  return !matches(query, element, index, parent, state);\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction anyLink(_, element) {\n  return isElement(element, ['a', 'area', 'link']) && hasProperty(element, 'href');\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction checked(_, element) {\n  if (isElement(element, ['input', 'menuitem'])) {\n    return Boolean(element.properties && (element.properties.type === 'checkbox' || element.properties.type === 'radio') && hasProperty(element, 'checked'));\n  }\n  if (isElement(element, 'option')) {\n    return hasProperty(element, 'selected');\n  }\n  return false;\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction dir(query, _1, _2, _3, state) {\n  return state.direction === query.value;\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction disabled(_, element) {\n  return isElement(element, ['button', 'input', 'select', 'textarea', 'optgroup', 'option', 'menuitem', 'fieldset']) && hasProperty(element, 'disabled');\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @returns {boolean}\n */\nfunction enabled(query, element) {\n  return !disabled(query, element);\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction required(_, element) {\n  return isElement(element, ['input', 'textarea', 'select']) && hasProperty(element, 'required');\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @returns {boolean}\n */\nfunction optional(query, element) {\n  return !required(query, element);\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction readWrite(_, element, _1, _2, state) {\n  return isElement(element, ['input', 'textarea']) ? !hasProperty(element, 'readOnly') && !hasProperty(element, 'disabled') : Boolean(state.editableOrEditingHost);\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction readOnly(query, element, index, parent, state) {\n  return !readWrite(query, element, index, parent, state);\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction root(_, element, _1, parent, state) {\n  return Boolean((!parent || parent.type === 'root') && state.schema && (state.schema.space === 'html' || state.schema.space === 'svg') && isElement(element, ['html', 'svg']));\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction scope(_, element, _1, _2, state) {\n  return Boolean(isElement(element) && state.scopeElements && state.scopeElements.includes(element));\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction empty(_, element) {\n  return !someChildren(element, check);\n\n  /**\n   * @param {ElementChild} child\n   * @returns {boolean}\n   */\n  function check(child) {\n    return child.type === 'element' || child.type === 'text';\n  }\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction blank(_, element) {\n  return !someChildren(element, check);\n\n  /**\n   * @param {ElementChild} child\n   * @returns {boolean}\n   */\n  function check(child) {\n    return child.type === 'element' || child.type === 'text' && !whitespace(child);\n  }\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction firstChild(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return state.elementIndex === 0;\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lang(query, _1, _2, _3, state) {\n  return state.language !== '' && state.language !== undefined && state.language !== null &&\n  // @ts-expect-error never `selectors`.\n  extendedFilter(state.language, commas(query.value)).length > 0;\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lastChild(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return Boolean(state.elementCount && state.elementIndex === state.elementCount - 1);\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction onlyChild(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return state.elementCount === 1;\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthChild(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return typeof state.elementIndex === 'number' && query.value(state.elementIndex);\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthLastChild(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return Boolean(typeof state.elementCount === 'number' && typeof state.elementIndex === 'number' && query.value(state.elementCount - state.elementIndex - 1));\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return typeof state.typeIndex === 'number' && query.value(state.typeIndex);\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthLastOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return typeof state.typeCount === 'number' && typeof state.typeIndex === 'number' && query.value(state.typeCount - 1 - state.typeIndex);\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction firstOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return state.typeIndex === 0;\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lastOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return typeof state.typeIndex === 'number' && typeof state.typeCount === 'number' && state.typeIndex === state.typeCount - 1;\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction onlyOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query);\n  return state.typeCount === 1;\n}\n\n/**\n * @param {Element} element\n * @param {(child: ElementChild) => boolean} check\n * @returns {boolean}\n */\nfunction someChildren(element, check) {\n  var children = element.children;\n  var index = -1;\n  while (++index < children.length) {\n    if (check(children[index])) return true;\n  }\n  return false;\n}\n\n// Shouldn’t be called, parser gives correct data.\n/* c8 ignore next 3 */\nfunction invalidPseudo() {\n  throw new Error('Invalid pseudo-selector');\n}\n\n/**\n * @param {RulePseudo} query\n */\nfunction unknownPseudo(query) {\n  if (query.name) {\n    throw new Error('Unknown pseudo-selector `' + query.name + '`');\n  }\n  throw new Error('Unexpected pseudo-element or empty pseudo-class');\n}\n\n/**\n * @param {SelectState} state\n * @param {RulePseudo|RulePseudoNth} query\n */\nfunction assertDeep(state, query) {\n  if (state.shallow) {\n    throw new Error('Cannot use `:' + query.name + '` without parent');\n  }\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction has(query, element, _2, _3, state) {\n  var shallow = state.shallow;\n  var one = state.one;\n  var scopeElements = state.scopeElements;\n  var value = appendScope(query.value);\n  state.shallow = false;\n  state.one = true;\n  state.scopeElements = [element];\n  var result = any(value, element, state).length > 0;\n  state.shallow = shallow;\n  state.one = one;\n  state.scopeElements = scopeElements;\n  return result;\n}\n\n/**\n * @param {Selector} value\n * @returns {Selectors}\n */\nfunction appendScope(value) {\n  /** @type {Selectors} */\n  var selector = value.type === 'ruleSet' ? {\n    type: 'selectors',\n    selectors: [value]\n  } : value;\n  var index = -1;\n  while (++index < selector.selectors.length) {\n    var rule = selector.selectors[index].rule;\n    rule.nestingOperator = null;\n    if (!rule.pseudos || rule.pseudos.length !== 1 || rule.pseudos[0].name !== 'scope') {\n      selector.selectors[index] = {\n        type: 'ruleSet',\n        // @ts-expect-error pseudos are fine w/ just a name!\n        rule: {\n          type: 'rule',\n          rule: rule,\n          pseudos: [{\n            name: 'scope'\n          }]\n        }\n      };\n    }\n  }\n  return selector;\n}","map":{"version":3,"names":["extendedFilter","parse","commas","hasProperty","isElement","whitespace","zwitch","any","handle","unknown","unknownPseudo","invalid","invalidPseudo","handlers","matches","anyLink","blank","checked","dir","disabled","empty","enabled","firstChild","firstOfType","has","lang","lastChild","lastOfType","not","nthChild","nthLastChild","nthOfType","nthLastOfType","onlyChild","onlyOfType","optional","readOnly","readWrite","required","root","scope","pseudo","needsIndex","query","element","index","parent","state","pseudos","offset","length","_1","_2","shallow","one","result","value","_","Boolean","properties","type","_3","direction","editableOrEditingHost","schema","space","scopeElements","includes","someChildren","check","child","assertDeep","elementIndex","language","undefined","elementCount","typeIndex","typeCount","children","Error","name","appendScope","selector","selectors","rule","nestingOperator"],"sources":["/home/kty/workspace/seb41_pre_001/client/node_modules/hast-util-select/lib/pseudo.js"],"sourcesContent":["/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').RulePseudo} RulePseudo\n * @typedef {import('./types.js').RulePseudoNth} RulePseudoNth\n * @typedef {import('./types.js').RulePseudoSelector} RulePseudoSelector\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('./types.js').Selector} Selector\n * @typedef {import('./types.js').Selectors} Selectors\n * @typedef {import('./types.js').SelectState} SelectState\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').ElementChild} ElementChild\n */\n\nimport {extendedFilter} from 'bcp-47-match'\nimport {parse as commas} from 'comma-separated-tokens'\nimport {hasProperty} from 'hast-util-has-property'\nimport {isElement} from 'hast-util-is-element'\nimport {whitespace} from 'hast-util-whitespace'\nimport {zwitch} from 'zwitch'\nimport {any} from './any.js'\n\nconst handle = zwitch('name', {\n  // @ts-expect-error: hush.\n  unknown: unknownPseudo,\n  invalid: invalidPseudo,\n  handlers: {\n    // @ts-expect-error: hush.\n    any: matches,\n    // @ts-expect-error: hush.\n    'any-link': anyLink,\n    // @ts-expect-error: hush.\n    blank,\n    // @ts-expect-error: hush.\n    checked,\n    // @ts-expect-error: hush.\n    dir,\n    // @ts-expect-error: hush.\n    disabled,\n    // @ts-expect-error: hush.\n    empty,\n    // @ts-expect-error: hush.\n    enabled,\n    // @ts-expect-error: hush.\n    'first-child': firstChild,\n    // @ts-expect-error: hush.\n    'first-of-type': firstOfType,\n    // @ts-expect-error: hush.\n    has,\n    // @ts-expect-error: hush.\n    lang,\n    // @ts-expect-error: hush.\n    'last-child': lastChild,\n    // @ts-expect-error: hush.\n    'last-of-type': lastOfType,\n    // @ts-expect-error: hush.\n    matches,\n    // @ts-expect-error: hush.\n    not,\n    // @ts-expect-error: hush.\n    'nth-child': nthChild,\n    // @ts-expect-error: hush.\n    'nth-last-child': nthLastChild,\n    // @ts-expect-error: hush.\n    'nth-of-type': nthOfType,\n    // @ts-expect-error: hush.\n    'nth-last-of-type': nthLastOfType,\n    // @ts-expect-error: hush.\n    'only-child': onlyChild,\n    // @ts-expect-error: hush.\n    'only-of-type': onlyOfType,\n    // @ts-expect-error: hush.\n    optional,\n    // @ts-expect-error: hush.\n    'read-only': readOnly,\n    // @ts-expect-error: hush.\n    'read-write': readWrite,\n    // @ts-expect-error: hush.\n    required,\n    // @ts-expect-error: hush.\n    root,\n    // @ts-expect-error: hush.\n    scope\n  }\n})\n\npseudo.needsIndex = [\n  'first-child',\n  'first-of-type',\n  'last-child',\n  'last-of-type',\n  'nth-child',\n  'nth-last-child',\n  'nth-of-type',\n  'nth-last-of-type',\n  'only-child',\n  'only-of-type'\n]\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nexport function pseudo(query, element, index, parent, state) {\n  const pseudos = query.pseudos\n  let offset = -1\n\n  while (++offset < pseudos.length) {\n    if (!handle(pseudos[offset], element, index, parent, state)) return false\n  }\n\n  return true\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction matches(query, element, _1, _2, state) {\n  const shallow = state.shallow\n  const one = state.one\n\n  state.shallow = true\n  state.one = true\n\n  const result = any(query.value, element, state)[0] === element\n\n  state.shallow = shallow\n  state.one = one\n\n  return result\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction not(query, element, index, parent, state) {\n  return !matches(query, element, index, parent, state)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction anyLink(_, element) {\n  return (\n    isElement(element, ['a', 'area', 'link']) && hasProperty(element, 'href')\n  )\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction checked(_, element) {\n  if (isElement(element, ['input', 'menuitem'])) {\n    return Boolean(\n      element.properties &&\n        (element.properties.type === 'checkbox' ||\n          element.properties.type === 'radio') &&\n        hasProperty(element, 'checked')\n    )\n  }\n\n  if (isElement(element, 'option')) {\n    return hasProperty(element, 'selected')\n  }\n\n  return false\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction dir(query, _1, _2, _3, state) {\n  return state.direction === query.value\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction disabled(_, element) {\n  return (\n    isElement(element, [\n      'button',\n      'input',\n      'select',\n      'textarea',\n      'optgroup',\n      'option',\n      'menuitem',\n      'fieldset'\n    ]) && hasProperty(element, 'disabled')\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @returns {boolean}\n */\nfunction enabled(query, element) {\n  return !disabled(query, element)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction required(_, element) {\n  return (\n    isElement(element, ['input', 'textarea', 'select']) &&\n    hasProperty(element, 'required')\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @returns {boolean}\n */\nfunction optional(query, element) {\n  return !required(query, element)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction readWrite(_, element, _1, _2, state) {\n  return isElement(element, ['input', 'textarea'])\n    ? !hasProperty(element, 'readOnly') && !hasProperty(element, 'disabled')\n    : Boolean(state.editableOrEditingHost)\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction readOnly(query, element, index, parent, state) {\n  return !readWrite(query, element, index, parent, state)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction root(_, element, _1, parent, state) {\n  return Boolean(\n    (!parent || parent.type === 'root') &&\n      state.schema &&\n      (state.schema.space === 'html' || state.schema.space === 'svg') &&\n      isElement(element, ['html', 'svg'])\n  )\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction scope(_, element, _1, _2, state) {\n  return Boolean(\n    isElement(element) &&\n      state.scopeElements &&\n      state.scopeElements.includes(element)\n  )\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction empty(_, element) {\n  return !someChildren(element, check)\n\n  /**\n   * @param {ElementChild} child\n   * @returns {boolean}\n   */\n  function check(child) {\n    return child.type === 'element' || child.type === 'text'\n  }\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction blank(_, element) {\n  return !someChildren(element, check)\n\n  /**\n   * @param {ElementChild} child\n   * @returns {boolean}\n   */\n  function check(child) {\n    return (\n      child.type === 'element' || (child.type === 'text' && !whitespace(child))\n    )\n  }\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction firstChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.elementIndex === 0\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lang(query, _1, _2, _3, state) {\n  return (\n    state.language !== '' &&\n    state.language !== undefined &&\n    state.language !== null &&\n    // @ts-expect-error never `selectors`.\n    extendedFilter(state.language, commas(query.value)).length > 0\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lastChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return Boolean(\n    state.elementCount && state.elementIndex === state.elementCount - 1\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction onlyChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.elementCount === 1\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return (\n    typeof state.elementIndex === 'number' && query.value(state.elementIndex)\n  )\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthLastChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return Boolean(\n    typeof state.elementCount === 'number' &&\n      typeof state.elementIndex === 'number' &&\n      query.value(state.elementCount - state.elementIndex - 1)\n  )\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return typeof state.typeIndex === 'number' && query.value(state.typeIndex)\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthLastOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return (\n    typeof state.typeCount === 'number' &&\n    typeof state.typeIndex === 'number' &&\n    query.value(state.typeCount - 1 - state.typeIndex)\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction firstOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.typeIndex === 0\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lastOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return (\n    typeof state.typeIndex === 'number' &&\n    typeof state.typeCount === 'number' &&\n    state.typeIndex === state.typeCount - 1\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction onlyOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.typeCount === 1\n}\n\n/**\n * @param {Element} element\n * @param {(child: ElementChild) => boolean} check\n * @returns {boolean}\n */\nfunction someChildren(element, check) {\n  const children = element.children\n  let index = -1\n\n  while (++index < children.length) {\n    if (check(children[index])) return true\n  }\n\n  return false\n}\n\n// Shouldn’t be called, parser gives correct data.\n/* c8 ignore next 3 */\nfunction invalidPseudo() {\n  throw new Error('Invalid pseudo-selector')\n}\n\n/**\n * @param {RulePseudo} query\n */\nfunction unknownPseudo(query) {\n  if (query.name) {\n    throw new Error('Unknown pseudo-selector `' + query.name + '`')\n  }\n\n  throw new Error('Unexpected pseudo-element or empty pseudo-class')\n}\n\n/**\n * @param {SelectState} state\n * @param {RulePseudo|RulePseudoNth} query\n */\nfunction assertDeep(state, query) {\n  if (state.shallow) {\n    throw new Error('Cannot use `:' + query.name + '` without parent')\n  }\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction has(query, element, _2, _3, state) {\n  const shallow = state.shallow\n  const one = state.one\n  const scopeElements = state.scopeElements\n  const value = appendScope(query.value)\n\n  state.shallow = false\n  state.one = true\n  state.scopeElements = [element]\n\n  const result = any(value, element, state).length > 0\n\n  state.shallow = shallow\n  state.one = one\n  state.scopeElements = scopeElements\n\n  return result\n}\n\n/**\n * @param {Selector} value\n * @returns {Selectors}\n */\nfunction appendScope(value) {\n  /** @type {Selectors} */\n  const selector =\n    value.type === 'ruleSet' ? {type: 'selectors', selectors: [value]} : value\n  let index = -1\n\n  while (++index < selector.selectors.length) {\n    const rule = selector.selectors[index].rule\n    rule.nestingOperator = null\n\n    if (\n      !rule.pseudos ||\n      rule.pseudos.length !== 1 ||\n      rule.pseudos[0].name !== 'scope'\n    ) {\n      selector.selectors[index] = {\n        type: 'ruleSet',\n        // @ts-expect-error pseudos are fine w/ just a name!\n        rule: {type: 'rule', rule, pseudos: [{name: 'scope'}]}\n      }\n    }\n  }\n\n  return selector\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}