{"ast":null,"code":"import React, { useEffect, useMemo, useRef } from 'react';\nimport \"./index.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar DragBar = function DragBar(props) {\n  var _ref = props || {},\n    prefixCls = _ref.prefixCls,\n    onChange = _ref.onChange;\n  var $dom = useRef(null);\n  var dragRef = useRef();\n  function handleMouseMove(event) {\n    if (dragRef.current) {\n      var _changedTouches$;\n      var clientY = event.clientY || ((_changedTouches$ = event.changedTouches[0]) == null ? void 0 : _changedTouches$.clientY);\n      var newHeight = dragRef.current.height + clientY - dragRef.current.dragY;\n      if (newHeight >= props.minHeight && newHeight <= props.maxHeight) {\n        onChange && onChange(dragRef.current.height + (clientY - dragRef.current.dragY));\n      }\n    }\n  }\n  function handleMouseUp() {\n    var _$dom$current, _$dom$current2;\n    dragRef.current = undefined;\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n    (_$dom$current = $dom.current) == null ? void 0 : _$dom$current.removeEventListener('touchmove', handleMouseMove);\n    (_$dom$current2 = $dom.current) == null ? void 0 : _$dom$current2.removeEventListener('touchend', handleMouseUp);\n  }\n  function handleMouseDown(event) {\n    var _changedTouches$2, _$dom$current3, _$dom$current4;\n    event.preventDefault();\n    var clientY = event.clientY || ((_changedTouches$2 = event.changedTouches[0]) == null ? void 0 : _changedTouches$2.clientY);\n    dragRef.current = {\n      height: props.height,\n      dragY: clientY\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    (_$dom$current3 = $dom.current) == null ? void 0 : _$dom$current3.addEventListener('touchmove', handleMouseMove, {\n      passive: false\n    });\n    (_$dom$current4 = $dom.current) == null ? void 0 : _$dom$current4.addEventListener('touchend', handleMouseUp, {\n      passive: false\n    });\n  }\n  useEffect(function () {\n    if (document) {\n      var _$dom$current5, _$dom$current6;\n      (_$dom$current5 = $dom.current) == null ? void 0 : _$dom$current5.addEventListener('touchstart', handleMouseDown, {\n        passive: false\n      });\n      (_$dom$current6 = $dom.current) == null ? void 0 : _$dom$current6.addEventListener('mousedown', handleMouseDown);\n    }\n    return function () {\n      if (document) {\n        var _$dom$current7;\n        (_$dom$current7 = $dom.current) == null ? void 0 : _$dom$current7.removeEventListener('touchstart', handleMouseDown);\n        document.removeEventListener('mousemove', handleMouseMove);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var svg = useMemo(function () {\n    return /*#__PURE__*/_jsx(\"svg\", {\n      viewBox: \"0 0 512 512\",\n      height: \"100%\",\n      children: /*#__PURE__*/_jsx(\"path\", {\n        fill: \"currentColor\",\n        d: \"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"\n      })\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: prefixCls + \"-bar\",\n    ref: $dom,\n    children: svg\n  });\n};\nexport default DragBar;","map":{"version":3,"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AAEzD;AAAsB;AAStB,IAAMC,OAAgC,GAAIC,SAApCD,OAAgC,CAAIC,KAAK,EAAK;EAClD,WAAgCA,KAAK,IAAI,CAAC,CAAC;IAAnCC,SAAS,QAATA,SAAS;IAAEC;EACnB,IAAMC,IAAI,GAAGL,MAAM,CAAiB,IAAI,CAAC;EACzC,IAAMM,OAAO,GAAGN,MAAM,EAAqC;EAC3D,SAASO,eAAe,CAACC,KAAY,EAAE;IACrC,IAAIF,OAAO,CAACG,OAAO,EAAE;MAAA;MACnB,IAAMC,OAAO,GACVF,KAAK,CAA2BE,OAAO,yBAAKF,KAAK,CAA2BG,cAAc,CAAC,CAAC,CAAC,qBAAlDC,iBAAoDF,OAAO;MACzG,IAAMG,SAAS,GAAGP,OAAO,CAACG,OAAO,CAACK,MAAM,GAAGJ,OAAO,GAAGJ,OAAO,CAACG,OAAO,CAACM,KAAK;MAC1E,IAAIF,SAAS,IAAIX,KAAK,CAACc,SAAS,IAAIH,SAAS,IAAIX,KAAK,CAACe,SAAS,EAAE;QAChEb,QAAQ,IAAIA,QAAQ,CAACE,OAAO,CAACG,OAAO,CAACK,MAAM,IAAIJ,OAAO,GAAGJ,OAAO,CAACG,OAAO,CAACM,KAAK,CAAC,CAAC;MAClF;IACF;EACF;EACA,SAASG,aAAa,GAAG;IAAA;IACvBZ,OAAO,CAACG,OAAO,GAAGU,SAAS;IAC3BC,QAAQ,CAACC,mBAAmB,CAAC,WAAW,EAAEd,eAAe,CAAC;IAC1Da,QAAQ,CAACC,mBAAmB,CAAC,SAAS,EAAEH,aAAa,CAAC;IACtD,qBAAI,CAACT,OAAO,qBAAZa,cAAcD,mBAAmB,CAAC,WAAW,EAAEd,eAAe,CAAC;IAC/D,sBAAI,CAACE,OAAO,qBAAZc,eAAcF,mBAAmB,CAAC,UAAU,EAAEH,aAAa,CAAC;EAC9D;EACA,SAASM,eAAe,CAAChB,KAAY,EAAE;IAAA;IACrCA,KAAK,CAACiB,cAAc,EAAE;IACtB,IAAMf,OAAO,GACVF,KAAK,CAA2BE,OAAO,0BAAKF,KAAK,CAA2BG,cAAc,CAAC,CAAC,CAAC,qBAAlDe,kBAAoDhB,OAAO;IACzGJ,OAAO,CAACG,OAAO,GAAG;MAChBK,MAAM,EAAEZ,KAAK,CAACY,MAAM;MACpBC,KAAK,EAAEL;IACT,CAAC;IACDU,QAAQ,CAACO,gBAAgB,CAAC,WAAW,EAAEpB,eAAe,CAAC;IACvDa,QAAQ,CAACO,gBAAgB,CAAC,SAAS,EAAET,aAAa,CAAC;IACnD,sBAAI,CAACT,OAAO,qBAAZmB,eAAcD,gBAAgB,CAAC,WAAW,EAAEpB,eAAe,EAAE;MAAEsB,OAAO,EAAE;IAAM,CAAC,CAAC;IAChF,sBAAI,CAACpB,OAAO,qBAAZqB,eAAcH,gBAAgB,CAAC,UAAU,EAAET,aAAa,EAAE;MAAEW,OAAO,EAAE;IAAM,CAAC,CAAC;EAC/E;EAEA/B,SAAS,CAAC,YAAM;IACd,IAAIsB,QAAQ,EAAE;MAAA;MACZ,sBAAI,CAACX,OAAO,qBAAZsB,eAAcJ,gBAAgB,CAAC,YAAY,EAAEH,eAAe,EAAE;QAAEK,OAAO,EAAE;MAAM,CAAC,CAAC;MACjF,sBAAI,CAACpB,OAAO,qBAAZuB,eAAcL,gBAAgB,CAAC,WAAW,EAAEH,eAAe,CAAC;IAC9D;IACA,OAAO,YAAM;MACX,IAAIJ,QAAQ,EAAE;QAAA;QACZ,sBAAI,CAACX,OAAO,qBAAZwB,eAAcZ,mBAAmB,CAAC,YAAY,EAAEG,eAAe,CAAC;QAChEJ,QAAQ,CAACC,mBAAmB,CAAC,WAAW,EAAEd,eAAe,CAAC;MAC5D;IACF,CAAC;IACD;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAM2B,GAAG,GAAGnC,OAAO,CACjB;IAAA,oBACEoC;MAAKC,OAAO,EAAC,aAAa;MAACtB,MAAM,EAAC,MAAM;MAAAuB,uBACtCF;QACEG,IAAI,EAAC,cAAc;QACnBC,CAAC,EAAC;MAA2N;IAC7N,EAEL;EAAA,GACD,EAAE,CACH;EACD,oBACEJ;IAAKK,SAAS,EAAKrC,SAAS,SAAO;IAACsC,GAAG,EAAEpC,IAAK;IAAAgC,UAC3CH;EAAG,EACA;AAEV,CAAC;AAED,eAAejC,OAAO","names":["React","useEffect","useMemo","useRef","DragBar","props","prefixCls","onChange","$dom","dragRef","handleMouseMove","event","current","clientY","changedTouches","_changedTouches$","newHeight","height","dragY","minHeight","maxHeight","handleMouseUp","undefined","document","removeEventListener","_$dom$current","_$dom$current2","handleMouseDown","preventDefault","_changedTouches$2","addEventListener","_$dom$current3","passive","_$dom$current4","_$dom$current5","_$dom$current6","_$dom$current7","svg","_jsx","viewBox","children","fill","d","className","ref"],"sources":["/home/kty/workspace/seb41_pre_001/client/node_modules/@uiw/react-md-editor/src/components/DragBar/index.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react';\nimport { IProps } from '../../Editor';\nimport './index.less';\n\nexport interface IDragBarProps extends IProps {\n  height: number;\n  maxHeight: number;\n  minHeight: number;\n  onChange: (value: number) => void;\n}\n\nconst DragBar: React.FC<IDragBarProps> = (props) => {\n  const { prefixCls, onChange } = props || {};\n  const $dom = useRef<HTMLDivElement>(null);\n  const dragRef = useRef<{ height: number; dragY: number }>();\n  function handleMouseMove(event: Event) {\n    if (dragRef.current) {\n      const clientY =\n        (event as unknown as MouseEvent).clientY || (event as unknown as TouchEvent).changedTouches[0]?.clientY;\n      const newHeight = dragRef.current.height + clientY - dragRef.current.dragY;\n      if (newHeight >= props.minHeight && newHeight <= props.maxHeight) {\n        onChange && onChange(dragRef.current.height + (clientY - dragRef.current.dragY));\n      }\n    }\n  }\n  function handleMouseUp() {\n    dragRef.current = undefined;\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n    $dom.current?.removeEventListener('touchmove', handleMouseMove);\n    $dom.current?.removeEventListener('touchend', handleMouseUp);\n  }\n  function handleMouseDown(event: Event) {\n    event.preventDefault();\n    const clientY =\n      (event as unknown as MouseEvent).clientY || (event as unknown as TouchEvent).changedTouches[0]?.clientY;\n    dragRef.current = {\n      height: props.height,\n      dragY: clientY,\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    $dom.current?.addEventListener('touchmove', handleMouseMove, { passive: false });\n    $dom.current?.addEventListener('touchend', handleMouseUp, { passive: false });\n  }\n\n  useEffect(() => {\n    if (document) {\n      $dom.current?.addEventListener('touchstart', handleMouseDown, { passive: false });\n      $dom.current?.addEventListener('mousedown', handleMouseDown);\n    }\n    return () => {\n      if (document) {\n        $dom.current?.removeEventListener('touchstart', handleMouseDown);\n        document.removeEventListener('mousemove', handleMouseMove);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const svg = useMemo(\n    () => (\n      <svg viewBox=\"0 0 512 512\" height=\"100%\">\n        <path\n          fill=\"currentColor\"\n          d=\"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"\n        />\n      </svg>\n    ),\n    [],\n  );\n  return (\n    <div className={`${prefixCls}-bar`} ref={$dom}>\n      {svg}\n    </div>\n  );\n};\n\nexport default DragBar;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}