{"ast":null,"code":"var _jsxFileName = \"/home/kty/workspace/seb41_pre_001/client/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport CommonButton, { BUTTON_TYPE_FACEBOOK, BUTTON_TYPE_GITHUB, BUTTON_TYPE_GOOGLE } from '../components/CommonButton';\nimport LabelInput from '../components/LabelInput';\nimport RandomIcon from '../components/RandomIcon';\nimport { InputFormContainer, InputsContainer, LabelDescription, Last, MainContainer } from '../styles/StyledStore';\nimport { handleDonateMe } from '../util/alertStore';\nimport { regEmail } from '../util/regExp';\nimport { setToken, /* setUser */getToken, IS_ALIVE } from '../util/tokenHelper';\nimport { pushDefaultConfig /* pushDefaultWithToken */ } from '../util/axiosHelper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContainer = styled.div`\n  width: 316px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\n/**\n * Created by @KimTank\n * - 2022-12-28: 뷰잡음\n * @returns <MainWithSidebarContainer>\n */\n_c = LoginContainer;\nfunction Login() {\n  _s();\n  const [userEmail, setUserEmail] = useState('');\n  const [userPassword, setUserPassword] = useState('');\n  const navigate = useNavigate();\n  const email = 'Email';\n  const password = 'Password';\n  const handleUserEmail = e => {\n    setUserEmail(e.target.value);\n    console.log(userEmail);\n  };\n  const handleUserPassword = e => {\n    setUserPassword(e.target.value);\n    console.log(userPassword);\n  };\n  const handleLogin = () => {\n    if (userEmail.length === 0) {\n      alert('Email is empty');\n      return false;\n    }\n    if (!regEmail.test(userEmail)) {\n      alert('Email is not valid');\n      return false;\n    }\n    if (userPassword.length === 0) {\n      alert('Password is empty');\n      return false;\n    }\n    //TODO 비밀번호 검증\n    // if (!regPassword.test(userPassword)) {\n    //   alert('Over 8 letters, contain over 1 English, contain over 1 number');\n    //   return false;\n    // }\n    console.log(process.env.REACT_APP_EP_LOGIN);\n    console.log('username: ' + userEmail);\n    console.log('password: ' + userPassword);\n    axios.post(process.env.REACT_APP_EP_LOGIN, {\n      username: userEmail,\n      password: userPassword\n    }, pushDefaultConfig()).then(response => {\n      setToken(response.headers.authorization);\n      getToken();\n      console.log(getToken());\n      console.log(IS_ALIVE());\n      // axios\n      //   .get(process.env.REACT_APP_EP_USER, pushDefaultWithToken())\n      //   .then((response) => {\n      //     console.log(22222222222);\n      //     console.log(response.data);\n      //     setUser(response.data);\n      //     navigate('/');\n      //   })\n      //   .catch((error) => {\n      //     console.log(error);\n      //     let errorText;\n      //     const { message } = error;\n      //     const code = Number(message.slice(-3));\n      //     switch (code) {\n      //       case 401:\n      //       case 404:\n      //       case 500:\n      //       default:\n      //         errorText = message;\n      //     }\n      //     return alert(errorText);\n      //   });\n    }).catch(error => {\n      console.log(error);\n      let errorText;\n      const {\n        message\n      } = error;\n      const code = Number(message.slice(-3));\n      switch (code) {\n        case 401:\n          errorText = 'Wrong Email or Password, check your Email or Password';\n          break;\n        case 404:\n        case 500:\n          errorText = 'Sorry, We have problem for service. contact to us';\n          break;\n        default:\n          errorText = message;\n      }\n      return alert(errorText);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(MainContainer, {\n    children: /*#__PURE__*/_jsxDEV(LoginContainer, {\n      children: [/*#__PURE__*/_jsxDEV(RandomIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CommonButton, {\n          buttonType: BUTTON_TYPE_GOOGLE,\n          onClick: handleDonateMe,\n          cont: `Sign up with Google`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommonButton, {\n          buttonType: BUTTON_TYPE_GITHUB,\n          onClick: handleDonateMe,\n          cont: `Sign up with Github`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommonButton, {\n          buttonType: BUTTON_TYPE_FACEBOOK,\n          onClick: handleDonateMe,\n          cont: `Sign up with Facebook`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputFormContainer, {\n        children: /*#__PURE__*/_jsxDEV(InputsContainer, {\n          children: [/*#__PURE__*/_jsxDEV(LabelInput, {\n            label: email,\n            type: 'email',\n            value: userEmail,\n            onChange: handleUserEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LabelInput, {\n            label: password,\n            type: 'password',\n            value: userPassword,\n            onChange: handleUserPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CommonButton, {\n            cont: 'Log in',\n            onClick: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Last, {\n        children: [/*#__PURE__*/_jsxDEV(LabelDescription, {\n          children: [\"Don\\u2019t have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelDescription, {\n          style: {\n            paddingTop: '10px'\n          },\n          children: [\"Are you an employer?\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://careers.stackoverflow.com/employer/login\",\n            children: [\"Sign up on Talent \", /*#__PURE__*/_jsxDEV(RandomIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"MdLJ4QPqJW0KENX4dcTj/HqJ1y4=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Login;\nexport default Login;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoginContainer\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"names":["axios","useState","Link","useNavigate","styled","CommonButton","BUTTON_TYPE_FACEBOOK","BUTTON_TYPE_GITHUB","BUTTON_TYPE_GOOGLE","LabelInput","RandomIcon","InputFormContainer","InputsContainer","LabelDescription","Last","MainContainer","handleDonateMe","regEmail","setToken","getToken","IS_ALIVE","pushDefaultConfig","LoginContainer","div","Login","userEmail","setUserEmail","userPassword","setUserPassword","navigate","email","password","handleUserEmail","e","target","value","console","log","handleUserPassword","handleLogin","length","alert","test","process","env","REACT_APP_EP_LOGIN","post","username","then","response","headers","authorization","catch","error","errorText","message","code","Number","slice","paddingTop"],"sources":["/home/kty/workspace/seb41_pre_001/client/src/pages/Login.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport CommonButton, {\n  BUTTON_TYPE_FACEBOOK,\n  BUTTON_TYPE_GITHUB,\n  BUTTON_TYPE_GOOGLE,\n} from '../components/CommonButton';\nimport LabelInput from '../components/LabelInput';\nimport RandomIcon from '../components/RandomIcon';\nimport {\n  InputFormContainer,\n  InputsContainer,\n  LabelDescription,\n  Last,\n  MainContainer,\n} from '../styles/StyledStore';\nimport { handleDonateMe } from '../util/alertStore';\nimport { regEmail } from '../util/regExp';\nimport {\n  setToken,\n  /* setUser */ getToken,\n  IS_ALIVE,\n} from '../util/tokenHelper';\nimport {\n  pushDefaultConfig /* pushDefaultWithToken */,\n} from '../util/axiosHelper';\n\nconst LoginContainer = styled.div`\n  width: 316px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\n/**\n * Created by @KimTank\n * - 2022-12-28: 뷰잡음\n * @returns <MainWithSidebarContainer>\n */\nfunction Login() {\n  const [userEmail, setUserEmail] = useState('');\n  const [userPassword, setUserPassword] = useState('');\n\n  const navigate = useNavigate();\n\n  const email = 'Email';\n  const password = 'Password';\n\n  const handleUserEmail = (e) => {\n    setUserEmail(e.target.value);\n    console.log(userEmail);\n  };\n\n  const handleUserPassword = (e) => {\n    setUserPassword(e.target.value);\n    console.log(userPassword);\n  };\n\n  const handleLogin = () => {\n    if (userEmail.length === 0) {\n      alert('Email is empty');\n      return false;\n    }\n    if (!regEmail.test(userEmail)) {\n      alert('Email is not valid');\n      return false;\n    }\n    if (userPassword.length === 0) {\n      alert('Password is empty');\n      return false;\n    }\n    //TODO 비밀번호 검증\n    // if (!regPassword.test(userPassword)) {\n    //   alert('Over 8 letters, contain over 1 English, contain over 1 number');\n    //   return false;\n    // }\n    console.log(process.env.REACT_APP_EP_LOGIN);\n    console.log('username: ' + userEmail);\n    console.log('password: ' + userPassword);\n    axios\n      .post(\n        process.env.REACT_APP_EP_LOGIN,\n        {\n          username: userEmail,\n          password: userPassword,\n        },\n        pushDefaultConfig()\n      )\n      .then((response) => {\n        setToken(response.headers.authorization);\n        getToken();\n        console.log(getToken());\n        console.log(IS_ALIVE());\n        // axios\n        //   .get(process.env.REACT_APP_EP_USER, pushDefaultWithToken())\n        //   .then((response) => {\n        //     console.log(22222222222);\n        //     console.log(response.data);\n        //     setUser(response.data);\n        //     navigate('/');\n        //   })\n        //   .catch((error) => {\n        //     console.log(error);\n        //     let errorText;\n        //     const { message } = error;\n        //     const code = Number(message.slice(-3));\n        //     switch (code) {\n        //       case 401:\n        //       case 404:\n        //       case 500:\n        //       default:\n        //         errorText = message;\n        //     }\n        //     return alert(errorText);\n        //   });\n      })\n      .catch((error) => {\n        console.log(error);\n        let errorText;\n        const { message } = error;\n        const code = Number(message.slice(-3));\n        switch (code) {\n          case 401:\n            errorText = 'Wrong Email or Password, check your Email or Password';\n            break;\n          case 404:\n          case 500:\n            errorText = 'Sorry, We have problem for service. contact to us';\n            break;\n          default:\n            errorText = message;\n        }\n        return alert(errorText);\n      });\n  };\n  return (\n    <MainContainer>\n      <LoginContainer>\n        <RandomIcon />\n        <div>\n          <CommonButton\n            buttonType={BUTTON_TYPE_GOOGLE}\n            onClick={handleDonateMe}\n            cont={`Sign up with Google`}\n          />\n          <CommonButton\n            buttonType={BUTTON_TYPE_GITHUB}\n            onClick={handleDonateMe}\n            cont={`Sign up with Github`}\n          />\n          <CommonButton\n            buttonType={BUTTON_TYPE_FACEBOOK}\n            onClick={handleDonateMe}\n            cont={`Sign up with Facebook`}\n          />\n        </div>\n        <InputFormContainer>\n          <InputsContainer>\n            <LabelInput\n              label={email}\n              type={'email'}\n              value={userEmail}\n              onChange={handleUserEmail}\n            />\n            <LabelInput\n              label={password}\n              type={'password'}\n              value={userPassword}\n              onChange={handleUserPassword}\n            />\n            <CommonButton cont={'Log in'} onClick={handleLogin} />\n          </InputsContainer>\n        </InputFormContainer>\n        <Last>\n          <LabelDescription>\n            Don’t have an account? <Link to=\"/signup\">Sign up</Link>\n          </LabelDescription>\n          <LabelDescription style={{ paddingTop: '10px' }}>\n            Are you an employer?{' '}\n            <a href=\"https://careers.stackoverflow.com/employer/login\">\n              Sign up on Talent <RandomIcon />\n            </a>\n          </LabelDescription>\n        </Last>\n      </LoginContainer>\n    </MainContainer>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}